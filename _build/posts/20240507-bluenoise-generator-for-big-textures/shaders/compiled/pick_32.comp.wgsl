struct c{d:array<f32>,}struct e{d:vec4f,f:vec4f,}struct h{d:e,}struct i{d:array<vec4f>,}@group(0)@binding(2)var<storage,read_write>j:c;@group(0)@binding(1)var<storage>k:c;var<workgroup>l:array<f32,1024>;@group(0)@binding(0)var<uniform>m:h;var<private>n:vec3u;var<private>o:vec3u;@group(0)@binding(3)var<storage,read_write>p:i;fn function(){var q:vec2i;var s:i32;var t:f32;var u:i32;var v:i32;var A:f32;var B:u32;var C:f32;var D:i32;var E:f32;var F:vec2i;var G:u32;var H:vec2i;var I:vec2i;var J:vec2i;var K:vec2i;var L:f32;var M:vec2i;let N=m.d;let O=n;let P=bitcast<vec2i>(O.xy);let Q=o;let R=((bitcast<vec2i>(Q.xy)*vec2i(2i,2i))+bitcast<vec2i>(N.d.xy));let S=((R.y*bitcast<vec2i>(N.d.zw).x)+R.x);let T=(S*1024i);q=P;s=0i;loop{let U=q;let V=s;if(V<16i){let W=(U.y*32i);let X=((T+W)+U.x);u=U.y;switch bitcast<i32>(0u){default:{let Y=j.d[X];if(Y==0f){let Z=k.d[X];t=Z;break;}t=100000000000000000000000000000000000f;break;}}let a_=t;l[(W+U.x)]=a_;continue;}else{break;}continuing{let b_=u;q=vec2i(U.x,(b_+2i));s=(V+1i);}}workgroupBarrier();let c_=bitcast<vec2u>((R*vec2i(32i,32i)));let d_=(c_+vec2u(1u,1u));let e_=(((1405471321u^(((3041117094u^d_.x)*(1383044322u^d_.y))>>bitcast<u32>(5u)))*(1953774619u^bitcast<u32>(N.f.z)))>>bitcast<u32>(3i));let f_=(c_+vec2u(13u,11u));let g_=(((1405471321u^(((3041117094u^f_.x)*(1383044322u^f_.y))>>bitcast<u32>(5u)))*(1953774619u^e_))>>bitcast<u32>(5i));let h_=(P.y==0i);if h_{let i_=bitcast<i32>((e_&31u));let j_=l[((i_*32i)+P.x)];v=i_;A=j_;B=1u;loop{let k_=v;let l_=A;let m_=B;C=l_;D=k_;if(m_<32u){continue;}else{break;}continuing{let n_=bitcast<i32>(((e_^m_)&31u));let o_=l[((n_*32i)+P.x)];let p_=(o_<l_);v=select(k_,n_,p_);A=select(l_,o_,p_);B=(m_+bitcast<u32>(1i));}}let q_=C;l[P.x]=q_;let r_=D;l[(32i+P.x)]=bitcast<f32>(r_);}workgroupBarrier();let s_=(P.x==0i);if select(s_,h_,s_){let t_=bitcast<i32>((g_&31u));let u_=l[t_];let v_=l[(32i+t_)];E=u_;F=vec2i(t_,bitcast<i32>(v_));G=1u;loop{let w_=E;let x_=F;let y_=G;I=x_;J=x_;K=x_;if(y_<32u){let z_=bitcast<i32>(((g_^y_)&31u));let A_=l[z_];let B_=(A_<w_);H=x_;if B_{let C_=l[(32i+z_)];H=vec2i(z_,bitcast<i32>(C_));}let D_=H;L=select(w_,A_,B_);M=D_;continue;}else{break;}continuing{let E_=L;E=E_;let F_=M;F=F_;G=(y_+bitcast<u32>(1i));}}let G_=I;let H_=J;let I_=K;let J_=vec2f(I_);p.d[S]=vec4f(J_.x,J_.y,N.f.y,0f);j.d[((T+(G_.y*32i))+H_.x)]=N.f.y;}return;}@compute @workgroup_size(32,2,1)fn main(@builtin(local_invocation_id)K_:vec3u,@builtin(workgroup_id)L_:vec3u){n=K_;o=L_;function();}