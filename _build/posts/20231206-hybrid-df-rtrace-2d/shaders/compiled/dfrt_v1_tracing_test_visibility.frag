#version 300 es
precision highp float;precision highp int;uniform highp vec4 v1HybridParams;uniform highp usampler2D v1DfTexture;uniform highp sampler2D v1LinesBuffer;uniform highp vec2 targetUV;in highp vec2 uv;layout(location=0)out highp vec4 col;void main(){highp vec2 _=uv-targetUV;highp float a=length(_);highp vec2 b=_/vec2(a);bool c=min(targetUV.x,targetUV.y)<=0.;bool d;if(!c){d=max(targetUV.x,targetUV.y)>=1.;}else{d=c;}highp float e;highp vec2 f;if(d){highp vec2 g=vec2(1.)/b;highp vec2 h=(vec2(0.,1.)-targetUV.xx)*g.x;highp vec2 i=(vec2(0.,1.)-targetUV.yy)*g.y;highp vec2 j;if(h.x>h.y){j=h.yx;}else{j=h;}highp vec2 k;if(i.x>i.y){k=i.yx;}else{k=i;}highp float l=max(0.,max(j.x,k.x));bool m=l<min(j.y,k.y);bool n;if(m){n=(l*l)<(a*a);}else{n=m;}highp float o;highp vec2 p;if(n){highp float q=l+10.e-06;p=targetUV+(b*q);o=q;}else{p=targetUV;o=0.;}f=p;e=o;}else{f=targetUV;e=0.;}highp vec2 r;highp vec2 s;r=f;s=b*a;uint t;highp vec2 u;bool v;bool w;bool x;highp float y;highp vec2 z;uint A;bool B=false;uint C=0u;highp float D=e;uint E=0u;bool F=true;for(;;){if(!B){highp vec2 G;G=r;t=C;highp float H;uint I;highp vec2 J;uint K;uint L;uint M;uint N;highp float O=D;uint P=E;uint Q=0u;uint R=0u;for(;;){if(t<128u){bool S=O>=a;bool T;if(!S){T=min(G.x,G.y)<0.;}else{T=S;}bool U;if(!T){U=max(G.x,G.y)>1.;}else{U=T;}if(U){A=P;z=G;y=O;w=false;M=R;L=Q;break;}uvec4 V=texelFetch(v1DfTexture,ivec2(G*v1HybridParams.xx),0);uint W=V.x;highp float X=float(W&255u)*.003921569;H=O+X;uint Y=(W>>8u)&255u;I=W>>16u;J=G+(b*X);if(Y>0u){uint Z=W>>8u;bool a_=P==Z;N=a_?P:Z;K=a_?0u:Y;}else{N=P;K=Y;}if(K>0u){A=N;z=J;y=H;w=F;M=I;L=K;break;}P=N;G=J;O=H;t++;R=I;Q=K;continue;}else{A=P;z=G;y=O;w=F;M=R;L=Q;break;}}if(L==0u){v=w;break;}uint b_=M+L;u=s;x=B;bool c_;highp vec2 d_;for(uint e_=M;e_<b_;u=d_,e_++,x=c_){highp vec4 f_=texelFetch(v1LinesBuffer,ivec2(int(e_),0),0);highp vec2 g_=-u;highp vec2 h_=targetUV-f_.xy;highp float i_=g_.x;highp float j_=f_.w;highp float k_=g_.y;highp float l_=f_.z;highp float m_=(i_*j_)-(k_*l_);highp float n_=h_.x;highp float o_=h_.y;uint p_=floatBitsToUint(m_)&2147483648u;highp float q_=uintBitsToFloat(floatBitsToUint((n_*k_)-(o_*i_))^p_);highp float r_=uintBitsToFloat(floatBitsToUint((n_*j_)-(o_*l_))^p_);bool s_=min(q_,r_)>0.;bool t_;if(s_){t_=max(q_,r_)<abs(m_);}else{t_=s_;}if(t_){d_=u*(r_/abs(m_));}else{d_=u;}c_=t_?true:x;}E=A;r=z;D=y;C=t;B=x;F=w;s=u;continue;}else{v=F;break;}}highp float u_=float(!v);col=vec4(u_,u_,u_,1.);}