#version 300 es
precision highp float;precision highp int;uniform highp sampler2D lightPlaneMap;flat in highp float linemapV;in highp vec2 localUv;flat in highp vec4 colourAndDecayRate;layout(location=0)out highp vec4 outCol;vec3 _;void main(){highp float a=.5*uintBitsToFloat(2130706432u-floatBitsToUint(float(textureSize(lightPlaneMap,0).x)));highp float b=abs(localUv.x);highp float c=abs(localUv.y);highp float d=min(b,c)/max(b,c);highp float e=d*d;highp float f=(((((.013506162*e)+(-.046842404))*e)+(-.84141517))*d)+d;highp float g;if(c>b){g=.25-f;}else{g=f;}highp float h;if(localUv.x<0.){h=.5-g;}else{h=g;}highp vec4 i=texture(lightPlaneMap,vec2(uintBitsToFloat(floatBitsToUint(h)^(floatBitsToUint(localUv.y)&2147483648u)),linemapV));highp vec2 j=(i.xy*2.)-vec2(1.);highp vec3 k=_;k.x=j.x;highp vec3 l=k;l.y=j.y;highp float m=i.z;outCol=vec4((colourAndDecayRate.xyz*pow(length(localUv)+1.,-colourAndDecayRate.w))*(1.-smoothstep(m-a,m+a,dot(localUv,l.xy))),0.);}