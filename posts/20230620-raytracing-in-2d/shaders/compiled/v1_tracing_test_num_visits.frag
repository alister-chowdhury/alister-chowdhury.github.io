#version 300 es
precision highp float;precision highp int;uniform highp sampler2D v1LinesBvh;uniform highp vec2 targetUV;in highp vec2 uv;layout(location=0)out highp vec4 col;vec2 _;ivec2 a;vec2 b;ivec2 c;void main(){highp vec2 d=uv-targetUV;highp float e=length(d);highp vec2 f=d/vec2(e);highp float g=e*e;highp vec2 h=vec2(1.)/f;int i;highp vec2 j;highp vec2 k;ivec2 l;l=a;k=_;j=f*e;i=0;int m;int n[16];highp vec2 o;highp float p;bool q;int r;highp vec2 s;ivec2 t;int u;bool v=false;int w=0;highp float x=g;int y=0;for(;!v;y=u,l=t,k=s,x=p,j=o,w=r,i=m,v=q){m=i+1;highp vec4 z=texelFetch(v1LinesBvh,ivec2(w,0),0);highp vec4 A=texelFetch(v1LinesBvh,ivec2(w+1,0),0);highp vec4 B=texelFetch(v1LinesBvh,ivec2(w+2,0),0);bool C;highp vec2 D;highp float E;highp float F;int G;do{if(floatBitsToInt(z.xy).x==1){highp vec2 H=-j;highp vec2 I=targetUV-A.xy;highp float J=H.x;highp float K=A.w;highp float L=H.y;highp float M=A.z;highp float N=(J*K)-(L*M);highp float O=I.x;highp float P=I.y;uint Q=floatBitsToUint(N)&2147483648u;highp float R=uintBitsToFloat(floatBitsToUint((O*L)-(P*J))^Q);highp float S=uintBitsToFloat(floatBitsToUint((O*K)-(P*M))^Q);bool T=min(R,S)>0.;bool U;if(T){U=max(R,S)<abs(N);}else{U=T;}highp vec2 V;highp float W;if(U){highp vec2 X=j*(S/abs(N));W=dot(X,X);V=X;}else{W=x;V=j;}G=l.x;F=k.x;E=W;D=V;C=false;break;}highp vec2 Y=(vec2(A.xz)-targetUV.xx)*h.x;highp vec2 Z=(vec2(A.yw)-targetUV.yy)*h.y;highp vec2 a_;if(Y.x>Y.y){a_=Y.yx;}else{a_=Y;}highp vec2 b_;if(Z.x>Z.y){b_=Z.yx;}else{b_=Z;}highp float c_=max(0.,max(a_.x,b_.x));bool d_=c_<min(a_.y,b_.y);bool e_;if(d_){e_=(c_*c_)<x;}else{e_=d_;}if(e_){G=floatBitsToInt(z.y);F=c_;E=x;D=j;C=true;break;}G=l.x;F=k.x;E=x;D=j;C=false;break;}while(false);highp vec2 f_=b;f_.x=F;ivec2 g_=c;g_.x=G;bool h_;highp float i_;int j_;do{if(floatBitsToInt(z.zw).x==1){highp vec2 k_=-D;highp vec2 l_=targetUV-B.xy;highp float m_=k_.x;highp float n_=B.w;highp float o_=k_.y;highp float p_=B.z;highp float q_=(m_*n_)-(o_*p_);highp float r_=l_.x;highp float s_=l_.y;uint t_=floatBitsToUint(q_)&2147483648u;highp float u_=uintBitsToFloat(floatBitsToUint((r_*o_)-(s_*m_))^t_);highp float v_=uintBitsToFloat(floatBitsToUint((r_*n_)-(s_*p_))^t_);bool w_=min(u_,v_)>0.;bool x_;if(w_){x_=max(u_,v_)<abs(q_);}else{x_=w_;}highp vec2 y_;highp float z_;if(x_){highp vec2 A_=D*(v_/abs(q_));z_=dot(A_,A_);y_=A_;}else{z_=E;y_=D;}j_=l.y;i_=k.y;p=z_;o=y_;h_=false;break;}highp vec2 B_=(vec2(B.xz)-targetUV.xx)*h.x;highp vec2 C_=(vec2(B.yw)-targetUV.yy)*h.y;highp vec2 D_;if(B_.x>B_.y){D_=B_.yx;}else{D_=B_;}highp vec2 E_;if(C_.x>C_.y){E_=C_.yx;}else{E_=C_;}highp float F_=max(0.,max(D_.x,E_.x));bool G_=F_<min(D_.y,E_.y);bool H_;if(G_){H_=(F_*F_)<E;}else{H_=G_;}if(H_){j_=floatBitsToInt(z.w);i_=F_;p=E;o=D;h_=true;break;}j_=l.y;i_=k.y;p=E;o=D;h_=false;break;}while(false);highp vec2 I_=f_;I_.y=i_;ivec2 J_=g_;J_.y=j_;if(C&&h_){ivec2 K_;highp vec2 L_;if(F<i_){L_=I_.yx;K_=J_.yx;}else{L_=I_;K_=J_;}int M_=y+1;n[M_]=K_.x;u=M_;t=K_;s=L_;r=K_.y;q=v;}else{bool N_;int O_;int P_;if(C){P_=y;O_=G;N_=v;}else{bool Q_;int R_;int S_;if(h_){S_=y;R_=j_;Q_=v;}else{bool T_=y>0;int U_;int V_;if(T_){V_=y-1;U_=n[y];}else{V_=y;U_=w;}S_=V_;R_=U_;Q_=T_?v:true;}P_=S_;O_=R_;N_=Q_;}u=P_;t=J_;s=I_;r=O_;q=N_;}}highp float W_=float(i)*.03125;col=vec4(W_,W_,W_,1.);}