#version 300 es
precision highp float;precision highp int;vec2 _;ivec2 a;uniform highp sampler2D v1LinesBvh;uniform highp vec2 targetUV;in highp vec2 uv;layout(location=0)out highp vec4 col;void main(){highp vec2 b=uv-targetUV;highp float c=length(b);highp vec2 d=b/vec2(c);highp float e=c*c;highp vec2 f=vec2(1.)/d;int g;highp vec2 h;highp vec2 i;ivec2 j;j=a;i=_;h=d*c;g=0;int k;int l[16];highp vec2 m;highp float n;bool o;int p;highp vec2 q;ivec2 r;int s;bool t=false;int u=0;highp float v=e;int w=0;for(;!t;w=s,j=r,i=q,v=n,h=m,u=p,g=k,t=o){k=g+1;highp vec4 x=texelFetch(v1LinesBvh,ivec2(u,0),0);highp vec4 y=texelFetch(v1LinesBvh,ivec2(u+1,0),0);highp vec4 z=texelFetch(v1LinesBvh,ivec2(u+2,0),0);bool A;highp vec2 B;highp float C;highp float D;int E;do{if(floatBitsToInt(x.xy).x==1){highp vec2 F=-h;highp vec2 G=targetUV-y.xy;highp float H=F.x;highp float I=y.w;highp float J=F.y;highp float K=y.z;highp float L=H*I+(-(J*K));highp float M=G.x;highp float N=G.y;uint O=floatBitsToUint(L)&2147483648u;highp float P=uintBitsToFloat(floatBitsToUint(M*J+(-(N*H)))^O);highp float Q=uintBitsToFloat(floatBitsToUint(M*I+(-(N*K)))^O);bool R=min(P,Q)>=0.;bool S;if(R){S=max(P,Q)<=abs(L);}else{S=R;}highp vec2 T;highp float U;if(S){highp vec2 V=h*(Q/abs(L));U=dot(V,V);T=V;}else{U=v;T=h;}E=j.x;D=i.x;C=U;B=T;A=false;break;}highp vec2 W=(vec2(y.xz)-targetUV.xx)*f.x;highp vec2 X=(vec2(y.yw)-targetUV.yy)*f.y;highp vec2 Y;if(W.x>W.y){Y=W.yx;}else{Y=W;}highp vec2 Z;if(X.x>X.y){Z=X.yx;}else{Z=X;}highp float a_=max(0.,max(Y.x,Z.x));bool b_=a_<min(Y.y,Z.y);bool c_;if(b_){c_=(a_*a_)<v;}else{c_=b_;}if(c_){E=floatBitsToInt(x.y);D=a_;C=v;B=h;A=true;break;}E=j.x;D=i.x;C=v;B=h;A=false;break;}while(false);bool d_;highp float e_;int f_;do{if(floatBitsToInt(x.zw).x==1){highp vec2 g_=-B;highp vec2 h_=targetUV-z.xy;highp float i_=g_.x;highp float j_=z.w;highp float k_=g_.y;highp float l_=z.z;highp float m_=i_*j_+(-(k_*l_));highp float n_=h_.x;highp float o_=h_.y;uint p_=floatBitsToUint(m_)&2147483648u;highp float q_=uintBitsToFloat(floatBitsToUint(n_*k_+(-(o_*i_)))^p_);highp float r_=uintBitsToFloat(floatBitsToUint(n_*j_+(-(o_*l_)))^p_);bool s_=min(q_,r_)>=0.;bool t_;if(s_){t_=max(q_,r_)<=abs(m_);}else{t_=s_;}highp vec2 u_;highp float v_;if(t_){highp vec2 w_=B*(r_/abs(m_));v_=dot(w_,w_);u_=w_;}else{v_=C;u_=B;}f_=j.y;e_=i.y;n=v_;m=u_;d_=false;break;}highp vec2 x_=(vec2(z.xz)-targetUV.xx)*f.x;highp vec2 y_=(vec2(z.yw)-targetUV.yy)*f.y;highp vec2 z_;if(x_.x>x_.y){z_=x_.yx;}else{z_=x_;}highp vec2 A_;if(y_.x>y_.y){A_=y_.yx;}else{A_=y_;}highp float B_=max(0.,max(z_.x,A_.x));bool C_=B_<min(z_.y,A_.y);bool D_;if(C_){D_=(B_*B_)<C;}else{D_=C_;}if(D_){f_=floatBitsToInt(x.w);e_=B_;n=C;m=B;d_=true;break;}f_=j.y;e_=i.y;n=C;m=B;d_=false;break;}while(false);highp vec2 E_=vec2(D,e_);ivec2 F_=ivec2(E,f_);if(A&&d_){ivec2 G_;highp vec2 H_;if(D<e_){H_=E_.yx;G_=F_.yx;}else{H_=E_;G_=F_;}int I_=w+1;l[I_]=G_.x;s=I_;r=G_;q=H_;p=G_.y;o=t;}else{bool J_;int K_;int L_;if(A){L_=w;K_=E;J_=t;}else{bool M_;int N_;int O_;if(d_){O_=w;N_=f_;M_=t;}else{bool P_=w>0;int Q_;int R_;if(P_){R_=w-1;Q_=l[w];}else{R_=w;Q_=u;}O_=R_;N_=Q_;M_=P_?t:true;}L_=O_;K_=N_;J_=M_;}s=L_;r=F_;q=E_;p=K_;o=J_;}}highp float S_=float(g)*.03125;col=vec4(S_,S_,S_,1.);}