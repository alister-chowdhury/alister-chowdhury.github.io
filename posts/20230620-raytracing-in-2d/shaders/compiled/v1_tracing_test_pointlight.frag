#version 300 es
precision highp float;precision highp int;uniform highp sampler2D v1LinesBvh;uniform highp vec2 targetUV;in highp vec2 uv;layout(location=0)out highp vec4 col;vec2 _;ivec2 a;vec2 b;ivec2 c;void main(){highp vec2 d=uv-targetUV;highp float e=length(d);highp vec2 f=d/vec2(e);highp float g=e*e;highp vec2 h=vec2(1.)/f;highp vec2 i;highp vec2 j;ivec2 k;k=a;j=_;i=f*e;int l[16];highp vec2 m;highp float n;uint o;uint p;bool q;int r;highp vec2 s;ivec2 t;int u;bool v=false;int w=0;highp float x=g;uint y=4294967295u;int z=0;for(;;){if(!v){highp vec4 A=texelFetch(v1LinesBvh,ivec2(w,0),0);highp vec4 B=texelFetch(v1LinesBvh,ivec2(w+1,0),0);highp vec4 C=texelFetch(v1LinesBvh,ivec2(w+2,0),0);bool D;highp vec2 E;highp float F;uint G;highp float H;int I;do{if(floatBitsToInt(A.xy).x==1){highp vec2 J=-i;highp vec2 K=targetUV-B.xy;highp float L=J.x;highp float M=B.w;highp float N=J.y;highp float O=B.z;highp float P=(L*M)-(N*O);highp float Q=K.x;highp float R=K.y;uint S=floatBitsToUint(P)&2147483648u;highp float T=uintBitsToFloat(floatBitsToUint((Q*N)-(R*L))^S);highp float U=uintBitsToFloat(floatBitsToUint((Q*M)-(R*O))^S);bool V=min(T,U)>0.;bool W;if(V){W=max(T,U)<abs(P);}else{W=V;}highp vec2 X;highp float Y;uint Z;if(W){highp vec2 a_=i*(U/abs(P));Z=floatBitsToUint(A.y);Y=dot(a_,a_);X=a_;}else{Z=y;Y=x;X=i;}I=k.x;H=j.x;G=Z;F=Y;E=X;D=false;break;}highp vec2 b_=(vec2(B.xz)-targetUV.xx)*h.x;highp vec2 c_=(vec2(B.yw)-targetUV.yy)*h.y;highp vec2 d_;if(b_.x>b_.y){d_=b_.yx;}else{d_=b_;}highp vec2 e_;if(c_.x>c_.y){e_=c_.yx;}else{e_=c_;}highp float f_=max(0.,max(d_.x,e_.x));bool g_=f_<min(d_.y,e_.y);bool h_;if(g_){h_=(f_*f_)<x;}else{h_=g_;}if(h_){I=floatBitsToInt(A.y);H=f_;G=y;F=x;E=i;D=true;break;}I=k.x;H=j.x;G=y;F=x;E=i;D=false;break;}while(false);highp vec2 i_=b;i_.x=H;ivec2 j_=c;j_.x=I;bool k_;highp float l_;int m_;do{if(floatBitsToInt(A.zw).x==1){highp vec2 n_=-E;highp vec2 o_=targetUV-C.xy;highp float p_=n_.x;highp float q_=C.w;highp float r_=n_.y;highp float s_=C.z;highp float t_=(p_*q_)-(r_*s_);highp float u_=o_.x;highp float v_=o_.y;uint w_=floatBitsToUint(t_)&2147483648u;highp float x_=uintBitsToFloat(floatBitsToUint((u_*r_)-(v_*p_))^w_);highp float y_=uintBitsToFloat(floatBitsToUint((u_*q_)-(v_*s_))^w_);bool z_=min(x_,y_)>0.;bool A_;if(z_){A_=max(x_,y_)<abs(t_);}else{A_=z_;}highp vec2 B_;highp float C_;uint D_;if(A_){highp vec2 E_=E*(y_/abs(t_));D_=floatBitsToUint(A.w);C_=dot(E_,E_);B_=E_;}else{D_=G;C_=F;B_=E;}m_=k.y;l_=j.y;o=D_;n=C_;m=B_;k_=false;break;}highp vec2 F_=(vec2(C.xz)-targetUV.xx)*h.x;highp vec2 G_=(vec2(C.yw)-targetUV.yy)*h.y;highp vec2 H_;if(F_.x>F_.y){H_=F_.yx;}else{H_=F_;}highp vec2 I_;if(G_.x>G_.y){I_=G_.yx;}else{I_=G_;}highp float J_=max(0.,max(H_.x,I_.x));bool K_=J_<min(H_.y,I_.y);bool L_;if(K_){L_=(J_*J_)<F;}else{L_=K_;}if(L_){m_=floatBitsToInt(A.w);l_=J_;o=G;n=F;m=E;k_=true;break;}m_=k.y;l_=j.y;o=G;n=F;m=E;k_=false;break;}while(false);highp vec2 M_=i_;M_.y=l_;ivec2 N_=j_;N_.y=m_;if(o!=4294967295u){p=o;break;}if(D&&k_){ivec2 O_;highp vec2 P_;if(H<l_){P_=M_.yx;O_=N_.yx;}else{P_=M_;O_=N_;}int Q_=z+1;l[Q_]=O_.x;u=Q_;t=O_;s=P_;r=O_.y;q=v;}else{bool R_;int S_;int T_;if(D){T_=z;S_=I;R_=v;}else{bool U_;int V_;int W_;if(k_){W_=z;V_=m_;U_=v;}else{bool X_=z>0;int Y_;int Z_;if(X_){Z_=z-1;Y_=l[z];}else{Z_=z;Y_=w;}W_=Z_;V_=Y_;U_=X_?v:true;}T_=W_;S_=V_;R_=U_;}u=T_;t=N_;s=M_;r=S_;q=R_;}z=u;k=t;j=s;y=o;x=n;i=m;w=r;v=q;continue;}else{p=y;break;}}col=vec4((normalize(vec3(targetUV,length(targetUV)))*float(p==4294967295u))*pow(e+1.,-10.),1.);}