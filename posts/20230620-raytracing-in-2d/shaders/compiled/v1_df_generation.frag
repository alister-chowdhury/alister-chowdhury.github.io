#version 300 es
precision highp float;precision highp int;uniform highp sampler1D v1LinesBvh;in highp vec2 uv;layout(location=0)out highp vec4 col;vec2 _;ivec2 a;vec2 b;ivec2 c;void main(){highp float d;highp vec2 e;ivec2 f;f=a;e=_;d=100.;int g[16];highp float h;bool i;int j;highp vec2 k;ivec2 l;int m;bool n=false;int o=0;int p=0;for(;!n;p=m,f=l,e=k,o=j,d=h,n=i){highp vec4 q=texelFetch(v1LinesBvh,o,0);highp vec4 r=texelFetch(v1LinesBvh,o+1,0);highp vec4 s=texelFetch(v1LinesBvh,o+2,0);bool t;highp float u;highp float v;int w;do{if(floatBitsToInt(q.xy).x==1){highp vec2 x=r.xy-uv;highp vec2 y=r.zw;highp vec2 z=x-(y*max(0.,min(1.,dot(x,y)/dot(y,y))));highp float A=dot(z,z);w=f.x;v=e.x;u=(A<d)?A:d;t=false;break;}highp vec2 B=max(vec2(0.),max(r.xy-uv,uv-r.zw));highp float C=dot(B,B);if(C<d){w=floatBitsToInt(q.y);v=C;u=d;t=true;break;}w=f.x;v=e.x;u=d;t=false;break;}while(false);highp vec2 D=b;D.x=v;ivec2 E=c;E.x=w;bool F;highp float G;int H;do{if(floatBitsToInt(q.zw).x==1){highp vec2 I=s.xy-uv;highp vec2 J=s.zw;highp vec2 K=I-(J*max(0.,min(1.,dot(I,J)/dot(J,J))));highp float L=dot(K,K);H=f.y;G=e.y;h=(L<u)?L:u;F=false;break;}highp vec2 M=max(vec2(0.),max(s.xy-uv,uv-s.zw));highp float N=dot(M,M);if(N<u){H=floatBitsToInt(q.w);G=N;h=u;F=true;break;}H=f.y;G=e.y;h=u;F=false;break;}while(false);highp vec2 O=D;O.y=G;ivec2 P=E;P.y=H;if(t&&F){ivec2 Q;highp vec2 R;if(v<G){R=O.yx;Q=P.yx;}else{R=O;Q=P;}int S=p+1;g[S]=Q.x;m=S;l=Q;k=R;j=Q.y;i=n;}else{bool T;int U;int V;if(t){V=p;U=w;T=n;}else{bool W;int X;int Y;if(F){Y=p;X=H;W=n;}else{bool Z=p>0;int a_;int b_;if(Z){b_=p-1;a_=g[p];}else{b_=p;a_=o;}Y=b_;X=a_;W=Z?n:true;}V=Y;U=X;T=W;}m=V;l=P;k=O;j=U;i=T;}}col=vec4(sqrt(d));}