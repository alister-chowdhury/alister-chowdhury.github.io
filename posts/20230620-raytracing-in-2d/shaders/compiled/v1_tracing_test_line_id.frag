#version 300 es
precision highp float;precision highp int;uniform highp sampler2D v1LinesBvh;uniform highp vec2 targetUV;in highp vec2 uv;layout(location=0)out highp vec4 col;vec2 _;ivec2 a;vec2 b;ivec2 c;void main(){highp vec2 d=uv-targetUV;highp float e=length(d);highp vec2 f=d/vec2(e);highp float g=e*e;highp vec2 h=vec2(1.)/f;highp vec2 i;uint j;highp vec2 k;ivec2 l;l=a;k=_;j=4294967295u;i=f*e;int m[16];highp vec2 n;highp float o;uint p;bool q;int r;highp vec2 s;ivec2 t;int u;bool v=false;int w=0;highp float x=g;int y=0;for(;!v;y=u,l=t,k=s,j=p,x=o,i=n,w=r,v=q){highp vec4 z=texelFetch(v1LinesBvh,ivec2(w,0),0);highp vec4 A=texelFetch(v1LinesBvh,ivec2(w+1,0),0);highp vec4 B=texelFetch(v1LinesBvh,ivec2(w+2,0),0);bool C;highp vec2 D;highp float E;uint F;highp float G;int H;do{if(floatBitsToInt(z.xy).x==1){highp vec2 I=-i;highp vec2 J=targetUV-A.xy;highp float K=I.x;highp float L=A.w;highp float M=I.y;highp float N=A.z;highp float O=(K*L)-(M*N);highp float P=J.x;highp float Q=J.y;uint R=floatBitsToUint(O)&2147483648u;highp float S=uintBitsToFloat(floatBitsToUint((P*M)-(Q*K))^R);highp float T=uintBitsToFloat(floatBitsToUint((P*L)-(Q*N))^R);bool U=min(S,T)>0.;bool V;if(U){V=max(S,T)<abs(O);}else{V=U;}highp vec2 W;highp float X;uint Y;if(V){highp vec2 Z=i*(T/abs(O));Y=floatBitsToUint(z.y);X=dot(Z,Z);W=Z;}else{Y=j;X=x;W=i;}H=l.x;G=k.x;F=Y;E=X;D=W;C=false;break;}highp vec2 a_=(vec2(A.xz)-targetUV.xx)*h.x;highp vec2 b_=(vec2(A.yw)-targetUV.yy)*h.y;highp vec2 c_;if(a_.x>a_.y){c_=a_.yx;}else{c_=a_;}highp vec2 d_;if(b_.x>b_.y){d_=b_.yx;}else{d_=b_;}highp float e_=max(0.,max(c_.x,d_.x));bool f_=e_<min(c_.y,d_.y);bool g_;if(f_){g_=(e_*e_)<x;}else{g_=f_;}if(g_){H=floatBitsToInt(z.y);G=e_;F=j;E=x;D=i;C=true;break;}H=l.x;G=k.x;F=j;E=x;D=i;C=false;break;}while(false);highp vec2 h_=b;h_.x=G;ivec2 i_=c;i_.x=H;bool j_;highp float k_;int l_;do{if(floatBitsToInt(z.zw).x==1){highp vec2 m_=-D;highp vec2 n_=targetUV-B.xy;highp float o_=m_.x;highp float p_=B.w;highp float q_=m_.y;highp float r_=B.z;highp float s_=(o_*p_)-(q_*r_);highp float t_=n_.x;highp float u_=n_.y;uint v_=floatBitsToUint(s_)&2147483648u;highp float w_=uintBitsToFloat(floatBitsToUint((t_*q_)-(u_*o_))^v_);highp float x_=uintBitsToFloat(floatBitsToUint((t_*p_)-(u_*r_))^v_);bool y_=min(w_,x_)>0.;bool z_;if(y_){z_=max(w_,x_)<abs(s_);}else{z_=y_;}highp vec2 A_;highp float B_;uint C_;if(z_){highp vec2 D_=D*(x_/abs(s_));C_=floatBitsToUint(z.w);B_=dot(D_,D_);A_=D_;}else{C_=F;B_=E;A_=D;}l_=l.y;k_=k.y;p=C_;o=B_;n=A_;j_=false;break;}highp vec2 E_=(vec2(B.xz)-targetUV.xx)*h.x;highp vec2 F_=(vec2(B.yw)-targetUV.yy)*h.y;highp vec2 G_;if(E_.x>E_.y){G_=E_.yx;}else{G_=E_;}highp vec2 H_;if(F_.x>F_.y){H_=F_.yx;}else{H_=F_;}highp float I_=max(0.,max(G_.x,H_.x));bool J_=I_<min(G_.y,H_.y);bool K_;if(J_){K_=(I_*I_)<E;}else{K_=J_;}if(K_){l_=floatBitsToInt(z.w);k_=I_;p=F;o=E;n=D;j_=true;break;}l_=l.y;k_=k.y;p=F;o=E;n=D;j_=false;break;}while(false);highp vec2 L_=h_;L_.y=k_;ivec2 M_=i_;M_.y=l_;if(C&&j_){ivec2 N_;highp vec2 O_;if(G<k_){O_=L_.yx;N_=M_.yx;}else{O_=L_;N_=M_;}int P_=y+1;m[P_]=N_.x;u=P_;t=N_;s=O_;r=N_.y;q=v;}else{bool Q_;int R_;int S_;if(C){S_=y;R_=H;Q_=v;}else{bool T_;int U_;int V_;if(j_){V_=y;U_=l_;T_=v;}else{bool W_=y>0;int X_;int Y_;if(W_){Y_=y-1;X_=m[y];}else{Y_=y;X_=w;}V_=Y_;U_=X_;T_=W_?v:true;}S_=V_;R_=U_;Q_=T_;}u=S_;t=M_;s=L_;r=R_;q=Q_;}}uint Z_=((j^61u)^(j>>16u))*9u;uint _a=(Z_^(Z_>>4u))*668265261u;highp float aa=float((_a^(_a>>15u))&65535u)*9.155413e-05;col=vec4(clamp(vec3(abs(aa-3.)-1.,2.-abs(aa-2.),2.-abs(aa-4.)),vec3(0.),vec3(1.))*(1.-float(j==4294967295u)),1.);}