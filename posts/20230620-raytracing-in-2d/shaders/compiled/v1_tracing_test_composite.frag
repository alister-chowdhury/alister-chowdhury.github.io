#version 300 es
precision highp float;precision highp int;uniform highp sampler2D v1LinesBvh;uniform highp vec2 targetUV;in highp vec2 uv;layout(location=0)out highp vec4 col;vec2 _;ivec2 a;vec2 b;ivec2 c;void main(){highp vec2 d=uv-targetUV;highp float e=length(d);highp vec2 f=d/vec2(e);highp float g=e*e;highp vec2 h=vec2(1.)/f;int i;int j;highp vec2 k;uint l;highp vec2 m;ivec2 n;n=a;m=_;l=4294967295u;k=f*e;j=0;i=0;int o;int p[16];int q;highp vec2 r;highp float s;uint t;bool u;int v;highp vec2 w;ivec2 x;int y;bool z=false;int A=0;highp float B=g;int C=0;for(;!z;C=y,n=x,m=w,l=t,B=s,k=r,j=q,A=v,i=o,z=u){o=i+1;highp vec4 D=texelFetch(v1LinesBvh,ivec2(A,0),0);highp vec4 E=texelFetch(v1LinesBvh,ivec2(A+1,0),0);highp vec4 F=texelFetch(v1LinesBvh,ivec2(A+2,0),0);bool G;int H;highp vec2 I;highp float J;uint K;highp float L;int M;do{if(floatBitsToInt(D.xy).x==1){highp vec2 N=-k;highp vec2 O=targetUV-E.xy;highp float P=N.x;highp float Q=E.w;highp float R=N.y;highp float S=E.z;highp float T=(P*Q)-(R*S);highp float U=O.x;highp float V=O.y;uint W=floatBitsToUint(T)&2147483648u;highp float X=uintBitsToFloat(floatBitsToUint((U*R)-(V*P))^W);highp float Y=uintBitsToFloat(floatBitsToUint((U*Q)-(V*S))^W);bool Z=min(X,Y)>0.;bool a_;if(Z){a_=max(X,Y)<abs(T);}else{a_=Z;}highp vec2 b_;highp float c_;uint d_;if(a_){highp vec2 e_=k*(Y/abs(T));d_=floatBitsToUint(D.y);c_=dot(e_,e_);b_=e_;}else{d_=l;c_=B;b_=k;}M=n.x;L=m.x;K=d_;J=c_;I=b_;H=j+1;G=false;break;}highp vec2 f_=(vec2(E.xz)-targetUV.xx)*h.x;highp vec2 g_=(vec2(E.yw)-targetUV.yy)*h.y;highp vec2 h_;if(f_.x>f_.y){h_=f_.yx;}else{h_=f_;}highp vec2 i_;if(g_.x>g_.y){i_=g_.yx;}else{i_=g_;}highp float j_=max(0.,max(h_.x,i_.x));bool k_=j_<min(h_.y,i_.y);bool l_;if(k_){l_=(j_*j_)<B;}else{l_=k_;}if(l_){M=floatBitsToInt(D.y);L=j_;K=l;J=B;I=k;H=j;G=true;break;}M=n.x;L=m.x;K=l;J=B;I=k;H=j;G=false;break;}while(false);highp vec2 m_=b;m_.x=L;ivec2 n_=c;n_.x=M;bool o_;highp float p_;int q_;do{if(floatBitsToInt(D.zw).x==1){highp vec2 r_=-I;highp vec2 s_=targetUV-F.xy;highp float t_=r_.x;highp float u_=F.w;highp float v_=r_.y;highp float w_=F.z;highp float x_=(t_*u_)-(v_*w_);highp float y_=s_.x;highp float z_=s_.y;uint A_=floatBitsToUint(x_)&2147483648u;highp float B_=uintBitsToFloat(floatBitsToUint((y_*v_)-(z_*t_))^A_);highp float C_=uintBitsToFloat(floatBitsToUint((y_*u_)-(z_*w_))^A_);bool D_=min(B_,C_)>0.;bool E_;if(D_){E_=max(B_,C_)<abs(x_);}else{E_=D_;}highp vec2 F_;highp float G_;uint H_;if(E_){highp vec2 I_=I*(C_/abs(x_));H_=floatBitsToUint(D.w);G_=dot(I_,I_);F_=I_;}else{H_=K;G_=J;F_=I;}q_=n.y;p_=m.y;t=H_;s=G_;r=F_;q=H+1;o_=false;break;}highp vec2 J_=(vec2(F.xz)-targetUV.xx)*h.x;highp vec2 K_=(vec2(F.yw)-targetUV.yy)*h.y;highp vec2 L_;if(J_.x>J_.y){L_=J_.yx;}else{L_=J_;}highp vec2 M_;if(K_.x>K_.y){M_=K_.yx;}else{M_=K_;}highp float N_=max(0.,max(L_.x,M_.x));bool O_=N_<min(L_.y,M_.y);bool P_;if(O_){P_=(N_*N_)<J;}else{P_=O_;}if(P_){q_=floatBitsToInt(D.w);p_=N_;t=K;s=J;r=I;q=H;o_=true;break;}q_=n.y;p_=m.y;t=K;s=J;r=I;q=H;o_=false;break;}while(false);highp vec2 Q_=m_;Q_.y=p_;ivec2 R_=n_;R_.y=q_;if(G&&o_){ivec2 S_;highp vec2 T_;if(L<p_){T_=Q_.yx;S_=R_.yx;}else{T_=Q_;S_=R_;}int U_=C+1;p[U_]=S_.x;y=U_;x=S_;w=T_;v=S_.y;u=z;}else{bool V_;int W_;int X_;if(G){X_=C;W_=M;V_=z;}else{bool Y_;int Z_;int _a;if(o_){_a=C;Z_=q_;Y_=z;}else{bool aa=C>0;int ba;int ca;if(aa){ca=C-1;ba=p[C];}else{ca=C;ba=A;}_a=ca;Z_=ba;Y_=aa?z:true;}X_=_a;W_=Z_;V_=Y_;}y=X_;x=R_;w=Q_;v=W_;u=V_;}}col=vec4(float(i)*.03125,float(j)*.0625,float(l==4294967295u),1.);}