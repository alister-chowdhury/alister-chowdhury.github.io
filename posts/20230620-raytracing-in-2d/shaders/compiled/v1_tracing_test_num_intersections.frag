#version 300 es
precision highp float;precision highp int;uniform highp sampler2D v1LinesBvh;uniform highp vec2 targetUV;in highp vec2 uv;layout(location=0)out highp vec4 col;vec2 _;ivec2 a;vec2 b;ivec2 c;void main(){highp vec2 d=uv-targetUV;highp float e=length(d);highp vec2 f=d/vec2(e);highp float g=e*e;highp vec2 h=vec2(1.)/f;int i;highp vec2 j;highp vec2 k;ivec2 l;l=a;k=_;j=f*e;i=0;int m[16];int n;highp vec2 o;highp float p;bool q;int r;highp vec2 s;ivec2 t;int u;bool v=false;int w=0;highp float x=g;int y=0;for(;!v;y=u,l=t,k=s,x=p,j=o,i=n,w=r,v=q){highp vec4 z=texelFetch(v1LinesBvh,ivec2(w,0),0);highp vec4 A=texelFetch(v1LinesBvh,ivec2(w+1,0),0);highp vec4 B=texelFetch(v1LinesBvh,ivec2(w+2,0),0);bool C;int D;highp vec2 E;highp float F;highp float G;int H;do{if(floatBitsToInt(z.xy).x==1){highp vec2 I=-j;highp vec2 J=targetUV-A.xy;highp float K=I.x;highp float L=A.w;highp float M=I.y;highp float N=A.z;highp float O=(K*L)-(M*N);highp float P=J.x;highp float Q=J.y;uint R=floatBitsToUint(O)&2147483648u;highp float S=uintBitsToFloat(floatBitsToUint((P*M)-(Q*K))^R);highp float T=uintBitsToFloat(floatBitsToUint((P*L)-(Q*N))^R);bool U=min(S,T)>0.;bool V;if(U){V=max(S,T)<abs(O);}else{V=U;}highp vec2 W;highp float X;if(V){highp vec2 Y=j*(T/abs(O));X=dot(Y,Y);W=Y;}else{X=x;W=j;}H=l.x;G=k.x;F=X;E=W;D=i+1;C=false;break;}highp vec2 Z=(vec2(A.xz)-targetUV.xx)*h.x;highp vec2 a_=(vec2(A.yw)-targetUV.yy)*h.y;highp vec2 b_;if(Z.x>Z.y){b_=Z.yx;}else{b_=Z;}highp vec2 c_;if(a_.x>a_.y){c_=a_.yx;}else{c_=a_;}highp float d_=max(0.,max(b_.x,c_.x));bool e_=d_<min(b_.y,c_.y);bool f_;if(e_){f_=(d_*d_)<x;}else{f_=e_;}if(f_){H=floatBitsToInt(z.y);G=d_;F=x;E=j;D=i;C=true;break;}H=l.x;G=k.x;F=x;E=j;D=i;C=false;break;}while(false);highp vec2 g_=b;g_.x=G;ivec2 h_=c;h_.x=H;bool i_;highp float j_;int k_;do{if(floatBitsToInt(z.zw).x==1){highp vec2 l_=-E;highp vec2 m_=targetUV-B.xy;highp float n_=l_.x;highp float o_=B.w;highp float p_=l_.y;highp float q_=B.z;highp float r_=(n_*o_)-(p_*q_);highp float s_=m_.x;highp float t_=m_.y;uint u_=floatBitsToUint(r_)&2147483648u;highp float v_=uintBitsToFloat(floatBitsToUint((s_*p_)-(t_*n_))^u_);highp float w_=uintBitsToFloat(floatBitsToUint((s_*o_)-(t_*q_))^u_);bool x_=min(v_,w_)>0.;bool y_;if(x_){y_=max(v_,w_)<abs(r_);}else{y_=x_;}highp vec2 z_;highp float A_;if(y_){highp vec2 B_=E*(w_/abs(r_));A_=dot(B_,B_);z_=B_;}else{A_=F;z_=E;}k_=l.y;j_=k.y;p=A_;o=z_;n=D+1;i_=false;break;}highp vec2 C_=(vec2(B.xz)-targetUV.xx)*h.x;highp vec2 D_=(vec2(B.yw)-targetUV.yy)*h.y;highp vec2 E_;if(C_.x>C_.y){E_=C_.yx;}else{E_=C_;}highp vec2 F_;if(D_.x>D_.y){F_=D_.yx;}else{F_=D_;}highp float G_=max(0.,max(E_.x,F_.x));bool H_=G_<min(E_.y,F_.y);bool I_;if(H_){I_=(G_*G_)<F;}else{I_=H_;}if(I_){k_=floatBitsToInt(z.w);j_=G_;p=F;o=E;n=D;i_=true;break;}k_=l.y;j_=k.y;p=F;o=E;n=D;i_=false;break;}while(false);highp vec2 J_=g_;J_.y=j_;ivec2 K_=h_;K_.y=k_;if(C&&i_){ivec2 L_;highp vec2 M_;if(G<j_){M_=J_.yx;L_=K_.yx;}else{M_=J_;L_=K_;}int N_=y+1;m[N_]=L_.x;u=N_;t=L_;s=M_;r=L_.y;q=v;}else{bool O_;int P_;int Q_;if(C){Q_=y;P_=H;O_=v;}else{bool R_;int S_;int T_;if(i_){T_=y;S_=k_;R_=v;}else{bool U_=y>0;int V_;int W_;if(U_){W_=y-1;V_=m[y];}else{W_=y;V_=w;}T_=W_;S_=V_;R_=U_?v:true;}Q_=T_;P_=S_;O_=R_;}u=Q_;t=K_;s=J_;r=P_;q=O_;}}highp float X_=float(i)*.0625;col=vec4(X_,X_,X_,1.);}