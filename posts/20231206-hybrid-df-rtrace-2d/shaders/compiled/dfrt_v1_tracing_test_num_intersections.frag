#version 300 es
precision highp float;precision highp int;uniform highp vec4 v1HybridParams;uniform highp usampler2D v1DfTexture;uniform highp sampler2D v1LinesBuffer;uniform highp vec2 targetUV;in highp vec2 uv;layout(location=0)out highp vec4 col;void main(){highp vec2 _=uv-targetUV;highp float a=length(_);highp vec2 b=_/vec2(a);bool c=min(targetUV.x,targetUV.y)<=0.;bool d;if(!c){d=max(targetUV.x,targetUV.y)>=1.;}else{d=c;}highp float e;highp vec2 f;if(d){highp vec2 g=vec2(1.)/b;highp vec2 h=(vec2(0.,1.)-targetUV.xx)*g.x;highp vec2 i=(vec2(0.,1.)-targetUV.yy)*g.y;highp vec2 j;if(h.x>h.y){j=h.yx;}else{j=h;}highp vec2 k;if(i.x>i.y){k=i.yx;}else{k=i;}highp float l=max(0.,max(j.x,k.x));bool m=l<min(j.y,k.y);bool n;if(m){n=(l*l)<(a*a);}else{n=m;}highp float o;highp vec2 p;if(n){highp float q=l+10.e-06;p=targetUV+(b*q);o=q;}else{p=targetUV;o=0.;}f=p;e=o;}else{f=targetUV;e=0.;}highp vec2 r;uint s;highp vec2 t;s=0u;r=f;t=b*a;uint u;uint v;highp vec2 w;bool x;highp float y;highp vec2 z;uint A;bool B=false;uint C=0u;highp float D=e;uint E=0u;for(;!B;s=u,E=A,r=z,D=y,C=v,B=x,t=w){highp vec2 F;F=r;v=C;highp float G;uint H;highp vec2 I;uint J;uint K;uint L;uint M;highp float N=D;uint O=E;uint P=0u;uint Q=0u;for(;;){if(v<128u){bool R=N>=a;bool S;if(!R){S=min(F.x,F.y)<0.;}else{S=R;}bool T;if(!S){T=max(F.x,F.y)>1.;}else{T=S;}if(T){A=O;z=F;y=N;L=Q;K=P;break;}uvec4 U=texelFetch(v1DfTexture,ivec2(F*v1HybridParams.xx),0);uint V=U.x;highp float W=float(V&255u)*.003921569;G=N+W;uint X=(V>>8u)&255u;H=V>>16u;I=F+(b*W);if(X>0u){uint Y=V>>8u;bool Z=O==Y;M=Z?O:Y;J=Z?0u:X;}else{M=O;J=X;}if(J>0u){A=M;z=I;y=G;L=H;K=J;break;}O=M;F=I;N=G;v++;Q=H;P=J;continue;}else{A=O;z=F;y=N;L=Q;K=P;break;}}if(K==0u){break;}u=s+K;uint a_=L+K;w=t;x=B;bool b_;highp vec2 c_;for(uint d_=L;d_<a_;w=c_,d_++,x=b_){highp vec4 e_=texelFetch(v1LinesBuffer,ivec2(int(d_),0),0);highp vec2 f_=-w;highp vec2 g_=targetUV-e_.xy;highp float h_=f_.x;highp float i_=e_.w;highp float j_=f_.y;highp float k_=e_.z;highp float l_=(h_*i_)-(j_*k_);highp float m_=g_.x;highp float n_=g_.y;uint o_=floatBitsToUint(l_)&2147483648u;highp float p_=uintBitsToFloat(floatBitsToUint((m_*j_)-(n_*h_))^o_);highp float q_=uintBitsToFloat(floatBitsToUint((m_*i_)-(n_*k_))^o_);bool r_=min(p_,q_)>0.;bool s_;if(r_){s_=max(p_,q_)<abs(l_);}else{s_=r_;}if(s_){c_=w*(q_/abs(l_));}else{c_=w;}b_=s_?true:x;}}highp float t_=float(s)*.0625;col=vec4(t_,t_,t_,1.);}